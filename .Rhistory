#    mutate(Title = ifelse(Title=="" ,"AAA",Title)) %>%
#    mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% arrange(Title)
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title=="" ,Title2,Title)) %>%
@mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = if_else(Title=="" ,Title2,Title)) %>%
@mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = if_else(Title=="" ,Title2,Title)) %>%
#mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% arrange(Title)
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ")
playlist <- playlist %>%
mutate(Title = if_else(Title=="" ,Title2,Title)) %>%
#mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% arrange(Title)
playlists_DJ %>% filter(Title = "")
playlists_DJ %>% filter(Title == "")
playlists_DJ %>% filter(Title == "" & is.na(Title2))
playlists_DJ %>% filter(Title == "" & !is.na(Title2))
playlists_DJ %>% mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title))
playlists_DJ %>% mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>% filter(Title=="")
playlists_DJ %>% mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>% filter(Title==""&!is.na(Title2))
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title))
#mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
#mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\.")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
#mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
#mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
#mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
#mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse(Artist =="" & Title = "Greasy Kid Stuff","The Jack Mormons",Artist)) %>%
#mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
#mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
#    mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
#    mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
#    mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
# mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\. ")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"xx")) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,^[0-9]{1,2}\\. )) %>%
{.}
return(playlist)
}
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="") & (Title = "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),"Max & Kate",Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate",Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate",Title)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.: "),Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
View(playlists_DJ2)
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate",Title)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate's Review",Title)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate's Review",Artist)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(Artist == "","Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate's Review",Artist)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
{.}
return(playlist)
}
playlists_DJ2 <- playlists_DJ %>% fix_rows()
fix_rows_gk <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(Artist == "","Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate's Review",Artist)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
{.}
return(playlist)
}
load("~/R Projects/wfmu/playlists_raw.RData")
load("~/R Projects/wfmu/DJKey.RData")
View(DJKey)
playlists_DJ <- playlists_DJ %>% fix_rows()
fix_rows_gk <- function(playlist){
# fix dashes
playlist <- playlist %>%
separate(Artist, into = c("Artist2","Title2"),remove = FALSE,sep=" - ") %>%
mutate(Title = ifelse(Title == "" & !is.na(Title2),Title2,Title)) %>%
mutate(Title = ifelse(Title=="",Artist2,Title)) %>%
mutate(Artist = ifelse((Artist =="" & Title == "Greasy Kid Stuff"),"The Jack Mormons",Artist)) %>%
mutate(Artist = str_remove(Artist,"^[0-9]{1,2}\\. ")) %>%
select(-Artist2,-Title2) %>%
filter(Title != "") %>%
mutate(Artist = ifelse(str_detect(Artist,"nknown"),"Unknown",Artist)) %>%
mutate(Artist = ifelse(Artist == "","Unknown",Artist)) %>%
mutate(Artist = ifelse(str_detect(Title,"& Kate"),"Max & Kate's Review",Artist)) %>%
mutate(Title = ifelse(str_detect(Title,"& Kate"),str_remove(Title,"^.+: "),Title)) %>%
filter(!is.na(AirDate)) %>%
{.}
return(playlist)
}
playlists_DJ <- playlists_DJ %>% fix_rows()
playlists_DJ <- playlists_DJ %>% fix_rows_gk()
# save to disk after each dj
playlists_raw <- bind_rows(playlists_raw,playlists_DJ)
save(playlists_raw,file="playlists_raw.rdata")
source('~/R Projects/wfmu/2 - clean_playlists.r')
source('~/R Projects/wfmu/2 - clean_playlists.r')
source('~/R Projects/wfmu/2 - clean_playlists.r')
source('~/R Projects/wfmu/3 - precalc_similiarity.r')
source('~/R Projects/wfmu/4 - copy files to shiny side.R')
